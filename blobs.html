<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Working with Blobs
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Stuff" />
    <meta name="author" content="Isaac Abraham" />

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet" />

    <link type="text/css" rel="stylesheet" href="./content/style.css" />
    <link type="text/css" rel="stylesheet" href="deedle.css" />
    <script type="text/javascript" src="./content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
<body>
    <div class="container">
        <div class="masthead">
            <ul class="nav nav-pills pull-right">
                <li><a href="http://fsharp.org">fsharp.org</a></li>
                <li><a href="http://github.com/fsprojects/AzureStorageTypeProvider">github page</a></li>
            </ul>
            <h3 class="muted"><a href="./index.html">Azure Storage Type Provider</a></h3>
        </div>
        <hr />
        <div class="row">
            <div class="span9" id="main">
                
<h1><a name="Working-with-Blobs" class="anchor" href="#Working-with-Blobs">Working with Blobs</a></h1>
<p>For more information on Blobs in general, please see some of the many articles on
<a href="https://msdn.microsoft.com/en-us/library/microsoft.windowsazure.storage.blob.aspx">MSDN</a> or the <a href="http://azure.microsoft.com/en-us/documentation/services/storage/">Azure</a> <a href="http://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-how-to-use-blobs/">documentation</a>. Some of the core features of the Blob provider are: -</p>
<h2><a name="Rapid-navigation" class="anchor" href="#Rapid-navigation">Rapid navigation</a></h2>
<p>You can easily move between containers, folders and blobs. Simply dotting into a container
or folder will automatically request the children of that node from Azure. This allows
easy exploration of your blob assets, directly from within the REPL. Support exists for both
page and block blobs.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="i">container</span> <span class="o">=</span> <span class="i">Azure</span><span class="o">.</span><span class="i">Containers</span><span class="o">.</span><span class="i">samples</span>
<span class="k">let</span> <span class="i">theBlob</span> <span class="o">=</span> <span class="i">container</span><span class="o">.</span><span class="i">``folder/``</span><span class="o">.</span><span class="i">``childFile.txt``</span>
<span class="i">printfn</span> <span class="s">&quot;Blob &#39;%s&#39; is %d bytes big.&quot;</span> <span class="i">theBlob</span><span class="o">.</span><span class="i">Name</span> (<span class="i">theBlob</span><span class="o">.</span><span class="i">Size</span>())
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>Blob 'folder/childFile.txt' is 16 bytes big.</code></pre></td></tr></table>
<p>You can also perform useful helper actions on folders, such as pulling back all blobs in a folder.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="i">folder</span> <span class="o">=</span> <span class="i">container</span><span class="o">.</span><span class="i">``folder2/``</span>
<span class="k">let</span> <span class="i">blobs</span> <span class="o">=</span> <span class="i">folder</span><span class="o">.</span><span class="i">ListBlobs</span>(<span class="k">true</span>)
<span class="i">printfn</span> <span class="s">&quot;Folder &#39;%s&#39; has the following blobs: %A&quot;</span> <span class="i">folder</span><span class="o">.</span><span class="i">Path</span> <span class="i">blobs</span>
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>Folder 'folder2/' has the following blobs: seq
  [folder2/child/descedant4.txt; folder2/child/grandchild1/descedant1.txt;
   folder2/child/grandchild1/descedant2.txt;
   folder2/child/grandchild2/descedant3.txt]</code></pre></td></tr></table>
<p>Also note that blobs support <a href="hot-schema-loading.html#Working-with-Blobs">hot schema loading</a> to allow schema updates to occur as your storage account contents change.</p>
<h2><a name="Shared-types" class="anchor" href="#Shared-types">Shared types</a></h2>
<p>Individual files, folders and containers share a common base type so list operations are possible e.g.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="i">totalSize</span> <span class="o">=</span>
    [ <span class="i">container</span><span class="o">.</span><span class="i">``file1.txt``</span>
      <span class="i">container</span><span class="o">.</span><span class="i">``file2.txt``</span>
      <span class="i">container</span><span class="o">.</span><span class="i">``file3.txt``</span>
      <span class="i">container</span><span class="o">.</span><span class="i">``sample.txt``</span> ]
    <span class="o">|&gt;</span> <span class="i">List</span><span class="o">.</span><span class="i">sumBy</span>(<span class="k">fun</span> <span class="i">blob</span> <span class="k">-&gt;</span> <span class="i">blob</span><span class="o">.</span><span class="i">Size</span>())

<span class="i">printfn</span> <span class="s">&quot;These files take up %d bytes.&quot;</span> <span class="i">totalSize</span>
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>These files take up 220 bytes.</code></pre></td></tr></table>
<h2><a name="Flexible-API-for-read-operations" class="anchor" href="#Flexible-API-for-read-operations">Flexible API for read operations</a></h2>
<p>You can quickly read the contents of a blob synchronously or asynchronously.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// sync read</span>
<span class="k">let</span> <span class="i">contents</span> <span class="o">=</span> <span class="i">theBlob</span><span class="o">.</span><span class="i">Read</span>()
<span class="i">printfn</span> <span class="s">&quot;sync contents = &#39;%s&#39;&quot;</span> <span class="i">contents</span>

<span class="c">// async read</span>
<span class="i">async</span> {
    <span class="k">let!</span> <span class="i">contentsAsync</span> <span class="o">=</span> <span class="i">theBlob</span><span class="o">.</span><span class="i">ReadAsync</span>()
    <span class="i">printfn</span> <span class="s">&quot;async contents = &#39;%s&#39;&quot;</span> <span class="i">contentsAsync</span>
} <span class="o">|&gt;</span> <span class="i">Async</span><span class="o">.</span><span class="i">RunSynchronously</span>
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>sync contents = 'child file stuff'
async contents = 'child file stuff'</code></pre></td></tr></table>
<p>In addition, the provider has support for custom methods for different document types e.g. XML.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> (<span class="i">contentsAsText</span><span class="o">:</span><span class="i">string</span>) <span class="o">=</span> <span class="i">container</span><span class="o">.</span><span class="i">``data.xml``</span><span class="o">.</span><span class="i">Read</span>()
<span class="c">// only available on XML documents</span>
<span class="k">let</span> (<span class="i">contentsAsXml</span><span class="o">:</span><span class="i">XDocument</span>) <span class="o">=</span> <span class="i">container</span><span class="o">.</span><span class="i">``data.xml``</span><span class="o">.</span><span class="i">ReadAsXDocument</span>()

<span class="i">printfn</span> <span class="s">&quot;text output = &#39;%O&#39;&quot;</span> <span class="i">contentsAsText</span>
<span class="i">printfn</span> <span class="s">&quot;xml output = &#39;%O&#39;&quot;</span> <span class="i">contentsAsXml</span>
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>text output = '&lt;data&gt;&lt;items&gt;&lt;item&gt;thing&lt;/item&gt;&lt;/items&gt;&lt;/data&gt;'
xml output = '&lt;data&gt;
  &lt;items&gt;
    &lt;item&gt;thing&lt;/item&gt;
  &lt;/items&gt;
&lt;/data&gt;'</code></pre></td></tr></table>
<h2><a name="Streaming-support" class="anchor" href="#Streaming-support">Streaming support</a></h2>
<p>The provider exposes the ability to easily open a stream to a document for sequential reading.
This is extremely useful for previewing large files etc.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="i">streamReader</span> <span class="o">=</span> <span class="i">container</span><span class="o">.</span><span class="i">``sample.txt``</span><span class="o">.</span><span class="i">OpenStreamAsText</span>()
<span class="k">while</span> (<span class="i">not</span> <span class="i">streamReader</span><span class="o">.</span><span class="i">EndOfStream</span>) <span class="k">do</span>
    <span class="i">printfn</span> <span class="s">&quot;LINE: &#39;%s&#39;&quot;</span> (<span class="i">streamReader</span><span class="o">.</span><span class="i">ReadLine</span>())
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>LINE: 'the quick brown fox jumps over the lazy dog'
LINE: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras malesuada.'
LINE: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla porttitor.'</code></pre></td></tr></table>
<p>Again, since files share a common type, you can easily merge multiple sequential streams into one: -</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="i">lines</span> <span class="o">=</span>
    [ <span class="i">container</span><span class="o">.</span><span class="i">``file1.txt``</span>
      <span class="i">container</span><span class="o">.</span><span class="i">``file2.txt``</span>
      <span class="i">container</span><span class="o">.</span><span class="i">``file3.txt``</span>
      <span class="i">container</span><span class="o">.</span><span class="i">``sample.txt``</span> ]
    <span class="o">|&gt;</span> <span class="i">Seq</span><span class="o">.</span><span class="i">collect</span>(<span class="k">fun</span> <span class="i">file</span> <span class="k">-&gt;</span> <span class="i">file</span><span class="o">.</span><span class="i">ReadLines</span>()) <span class="c">// could also use yield! syntax within a seq { }</span>
      
<span class="i">printfn</span> <span class="s">&quot;starting to read all lines&quot;</span>
<span class="k">for</span> <span class="i">line</span> <span class="k">in</span> <span class="i">lines</span> <span class="k">do</span>
    <span class="i">printfn</span> <span class="s">&quot;%s&quot;</span> <span class="i">line</span>
<span class="i">printfn</span> <span class="s">&quot;finished reading all lines&quot;</span>
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>starting to read all lines
stuff
more stuff
even more stuff
the quick brown fox jumps over the lazy dog
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras malesuada.
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla porttitor.
finished reading all lines</code></pre></td></tr></table>
<h2><a name="Offline-development" class="anchor" href="#Offline-development">Offline development</a></h2>
<p>In addition to using the Azure Storage Emulator, you can also simply provide the type provider
with a JSON file containing the list of blob containers, folders and files. This is particularly
useful within the context of a CI process, or when you know a specific "known good" structure of
blobs within a storage account.</p>
<p>You can still access blobs using the compile-time storage connection string if provided, or
override as normal at runtime.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span class="i">BlobSchema</span> <span class="o">=</span> <span class="i">AzureTypeProvider</span><span class="o">&lt;</span><span class="i">blobSchema</span> <span class="o">=</span> <span class="s">&quot;BlobSchema.json&quot;</span><span class="o">&gt;</span>
<span class="k">let</span> <span class="i">fileFromSchema</span> <span class="o">=</span> <span class="i">BlobSchema</span><span class="o">.</span><span class="i">Containers</span><span class="o">.</span><span class="i">samples</span><span class="o">.</span><span class="i">``file3.txt``</span>
</code></pre></td>
</tr>
</table>
<p>The contents of <code>BlobSchema.json</code> looks as follows: -</p>
<table class="pre"><tr><td><pre><code>"{
    "samples": {
        "file1.txt": { "Type": "blockblob" },
        "file2.txt": null,
        "file3.txt": { "Type": "pageblob" },
        "folder/": {
            "childFile.txt": null
        },
        "folder2/": {
            "child/": {
                "descendant4.txt": null
            }
        }
    },
    "random": {
        "file.txt": null,
        "folder/": {
            "emptyFolder/": null
        }
    },
    "emptyContainer": { }
}"</code></pre></td></tr></table>
<p>Note that folder names must end with a forward slash e.g. <code>myfolder/</code>. Also observe that you can
specify the <code>Type</code> of blob as either <code>pageblob</code> or <code>blockblob</code>. If not specified, this defaults
to <code>blockblob</code>. You can leave "empty" values as either <code>null</code> or <code>{ }</code>.</p>
<h2><a name="Programmatic-access" class="anchor" href="#Programmatic-access">Programmatic access</a></h2>
<p>There are times when working with blobs (particularly when working with an offline schema) that you
need to access blobs using "stringly typed" access. There are three ways you can do this within the
type provider.</p>
<h3><a name="Safe-support" class="anchor" href="#Safe-support">Safe support</a></h3>
<p>For read access to blobs, you can use the Try... methods that are available on containers and
folders. These asynchronously check if the blob exists, before returning an optional handle to it.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="i">fileAsBlockBlob</span> <span class="o">=</span> <span class="i">container</span><span class="o">.</span><span class="i">TryGetBlockBlob</span> <span class="s">&quot;file1.txt&quot;</span> <span class="o">|&gt;</span> <span class="i">Async</span><span class="o">.</span><span class="i">RunSynchronously</span>
<span class="i">printfn</span> <span class="s">&quot;Does file1.txt exist as a block blob? %b&quot;</span> (<span class="i">Option</span><span class="o">.</span><span class="i">isSome</span> <span class="i">fileAsBlockBlob</span>)
<span class="k">let</span> <span class="i">fileAsPageBlob</span> <span class="o">=</span> <span class="i">container</span><span class="o">.</span><span class="i">TryGetPageBlob</span> <span class="s">&quot;file1.txt&quot;</span> <span class="o">|&gt;</span> <span class="i">Async</span><span class="o">.</span><span class="i">RunSynchronously</span>
<span class="i">printfn</span> <span class="s">&quot;Does file1.txt exist as a page blob? %b&quot;</span> (<span class="i">Option</span><span class="o">.</span><span class="i">isSome</span> <span class="i">fileAsPageBlob</span>)
<span class="k">let</span> <span class="i">doesNotExist</span> <span class="o">=</span> <span class="i">container</span><span class="o">.</span><span class="i">TryGetBlockBlob</span> <span class="s">&quot;doesNotExist&quot;</span> <span class="o">|&gt;</span> <span class="i">Async</span><span class="o">.</span><span class="i">RunSynchronously</span>
<span class="i">printfn</span> <span class="s">&quot;Does doesNotExist exist as a block blob? %b&quot;</span> (<span class="i">Option</span><span class="o">.</span><span class="i">isSome</span> <span class="i">doesNotExist</span>)
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>Does file1.txt exist as a block blob? true
Does file1.txt exist as a page blob? false
Does doesNotExist exist as a block blob? false</code></pre></td></tr></table>
<h3><a name="Unsafe-support-for-block-blob-access" class="anchor" href="#Unsafe-support-for-block-blob-access">Unsafe support for block blob access</a></h3>
<p>You can also "unsafely" access a block blob using indexers. This returns a blob reference which may or
may not exist but can be used quickly and easily - especially useful if you want to create a blob that
does not yet exist. However, be aware that any attempts to access a blob that does not exist will throw
an Azure SDK exception.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="i">newBlob</span> <span class="o">=</span> <span class="i">container</span><span class="o">.</span>[<span class="s">&quot;doesNotExist&quot;</span>]
<span class="i">newBlob</span><span class="o">.</span><span class="i">AsCloudBlockBlob</span>()<span class="o">.</span><span class="i">UploadText</span> <span class="s">&quot;hello&quot;</span>
<span class="i">printfn</span> <span class="s">&quot;Contents of blob: %s&quot;</span> (<span class="i">newBlob</span><span class="o">.</span><span class="i">Read</span>())
<span class="i">newBlob</span><span class="o">.</span><span class="i">AsCloudBlockBlob</span>()<span class="o">.</span><span class="i">Delete</span>()
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>Contents of blob: hello</code></pre></td></tr></table>
<h3><a name="Fallback-to-basic-Azure-SDK" class="anchor" href="#Fallback-to-basic-Azure-SDK">Fallback to basic Azure SDK</a></h3>
<p>Lastly, you can always fall back to the raw .NET Azure SDK (which the type provider sits on top of).</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Access the &#39;samples&#39; container using the raw SDK.</span>
<span class="k">let</span> <span class="i">rawContainer</span> <span class="o">=</span> <span class="i">Azure</span><span class="o">.</span><span class="i">Containers</span><span class="o">.</span><span class="i">samples</span><span class="o">.</span><span class="i">AsCloudBlobContainer</span>()

<span class="c">// All blobs can be referred to as an ICloudBlob</span>
<span class="k">let</span> <span class="i">iCloudBlob</span> <span class="o">=</span> <span class="i">Azure</span><span class="o">.</span><span class="i">Containers</span><span class="o">.</span><span class="i">samples</span><span class="o">.</span><span class="i">``file1.txt``</span><span class="o">.</span><span class="i">AsICloudBlob</span>()

<span class="c">// Only available to CloudBlockBlobs.</span>
<span class="k">let</span> <span class="i">blockBlob</span> <span class="o">=</span> <span class="i">Azure</span><span class="o">.</span><span class="i">Containers</span><span class="o">.</span><span class="i">samples</span><span class="o">.</span><span class="i">``file1.txt``</span><span class="o">.</span><span class="i">AsCloudBlockBlob</span>()

<span class="c">// Only available to PageBlockBlobs.</span>
<span class="k">let</span> <span class="i">pageBlob</span> <span class="o">=</span> <span class="i">Azure</span><span class="o">.</span><span class="i">Containers</span><span class="o">.</span><span class="i">samples</span><span class="o">.</span><span class="i">``pageData.bin``</span><span class="o">.</span><span class="i">AsCloudPageBlob</span>()
</code></pre></td>
</tr>
</table>
<h2><a name="Download-assets" class="anchor" href="#Download-assets">Download assets</a></h2>
<p>You can quickly and easily download files, folders or entire containers to local disk.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// download file1.txt asynchronously into &quot;C:\temp\files&quot;</span>
<span class="k">let</span> <span class="i">asyncFileDownload</span> <span class="o">=</span> <span class="i">container</span><span class="o">.</span><span class="i">``file1.txt``</span><span class="o">.</span><span class="i">Download</span>(<span class="s">@&quot;C:\temp\files\&quot;</span>)
</code></pre></td>
</tr>
</table>
<h2><a name="Shared-Access-Signature-generation" class="anchor" href="#Shared-Access-Signature-generation">Shared Access Signature generation</a></h2>
<p>The type provider exposes a simple method for generating time-dependant SAS codes for
single files.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="i">duration</span> <span class="o">=</span> <span class="i">TimeSpan</span><span class="o">.</span><span class="i">FromMinutes</span> <span class="n">37.</span>
<span class="i">printfn</span> <span class="s">&quot;Current time: %O&quot;</span> <span class="i">DateTime</span><span class="o">.</span><span class="i">UtcNow</span>
<span class="i">printfn</span> <span class="s">&quot;SAS expiry: %O&quot;</span> (<span class="i">DateTime</span><span class="o">.</span><span class="i">UtcNow</span><span class="o">.</span><span class="i">Add</span> <span class="i">duration</span>)
<span class="k">let</span> <span class="i">sasCode</span> <span class="o">=</span> <span class="i">container</span><span class="o">.</span><span class="i">``file1.txt``</span><span class="o">.</span><span class="i">GenerateSharedAccessSignature</span> <span class="i">duration</span>
<span class="i">printfn</span> <span class="s">&quot;SAS URI: %O&quot;</span> <span class="i">sasCode</span>
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>Current time: 09/11/2017 11:05:59
SAS expiry: 09/11/2017 11:42:59
SAS URI: http://127.0.0.1:10000/devstoreaccount1/samples/file1.txt?sv=2015-12-11&amp;sr=b&amp;sig=c%2FlQ6WY98onoN54Q6CmMqV8j%2BStWdkFOdT%2Bszc55v%2FA%3D&amp;se=2017-11-09T11:42:59Z&amp;sp=rwdl</code></pre></td></tr></table>


            </div>
            <div class="span3">
                <img src="./img/logo.png" alt="F# Project" style="width:150px;margin:10px" />
                <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
                    <li class="nav-header">Azure Storage Type Provider</li>
                    <li><a href="./index.html">Home page</a></li>
                    <li class="divider"></li>
                    <li><a href="http://www.nuget.org/packages/FSharp.Azure.StorageTypeProvider">Get Library via NuGet</a></li>
                    <li><a href="http://github.com/fsprojects/AzureStorageTypeProvider">Source Code on GitHub</a></li>
                    <li><a href="http://github.com/fsprojects/AzureStorageTypeProvider/blob/master/LICENSE.txt">License</a></li>
                    <li><a href="http://github.com/fsprojects/AzureStorageTypeProvider/blob/master/RELEASE_NOTES.md">Release Notes</a></li>

                    <li class="nav-header">Getting started</li>
                    <li><a href="./quickstart.html">Quick start</a></li>
                    <li><a href="./blobs.html">Using Azure Blobs</a></li>
                    <li><a href="./tables.html">Using Azure Tables</a></li>
                    <li><a href="./queues.html">Using Azure Storage Queues</a></li>
                    <li><a href="./hot-schema-loading.html">Hot Schema Loading</a></li>

                    <li class="nav-header">Documentation</li>
                    <li><a href="./reference/index.html">API Reference</a></li>
                </ul>
            </div>
        </div>
    </div>
    <a href="http://github.com/fsprojects/AzureStorageTypeProvider"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub" /></a>
</body>
</html>
